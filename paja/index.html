<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://fonts.googleapis.com/css?family=Indie+Flower&family=Patrick+Hand&display=swap"
      rel="stylesheet"
      type="text/css"
    />
  </head>
  <body>
    <audio id="background-music" loop>
        <source src="https://kdab1175.github.io/paja/sos-official-music-video.mp3" type="audio/mp3">
    </audio>

    <div id="music-popup" style="display: block;">
        <div class="popup-content">
            <h3>Eine kleine Nachtmusik</h3>
			<small>written by <s>Wolfgang Amadeus Mozart</s> <span class="handwritten">Albert Hajek (it is a poetic rant)</span></small>
			<p>
				Sed칤m, sed칤m a hlavu si l치mu, <br> Google zak치zal mi pou쮂셦 autoplay; <br> tak쬰 l치sko m치, te캞 mus칤코 dot칳kat se html buttonu, <br> pros칤m, pros칤m se stisknut칤m si pr치ci dej. <br><br>
				Kdyby sis ji toti nedala, <br> firma jako je n치코 obl칤ben칳 칩 korpor치tn칤 overlord by ze코칤lela. <br> Kontroluje cel칳 search a browser, stejn캩 tak i manufacturer von deine Handy 
				<br> proto i Safari nechce pou쮂셦 autoplay, though as a solution it would come in handy <br> (to je alespom r칳m shaking my head) <br><br>
				Nachtmusik je tento text d칤ky 캜asu jeho vzniku <br> po코lu ti ho v코ak a r치no, neb dnes je코t캩 nem치 svou velev칳sostnou v치hu. <br> B치sn칤kovi je z tohto textu do vzlyku, <br> v코ak iba dobre je 쬰 nevidal som sa na t콢to dr치hu. <br><br>
				U nap칤코u pouze posledn칤 odstavec 캜i sloku-v tom se nevyzn치m- <br> j치 chcel akor치t vymyslet cestu jak b칳t s tebou ke캞 nucen b칳t od tebe, <br> s치m, <br> v tento den-z칤tra pro mne, dnes pro tebe. <br> (to je zas r칳m jak noha) <br>
				Nyn칤 u vzd치m holt pouze tob캩 <br> jsi m칳m sv캩tlem v t칠to dob캩, <br>
				krajinou nejkr치sn캩j코칤ch m칤st <br> jak Zem캩, nebo dokonce i M캩s칤c.<br>
				<br>
				I Love You. Wishing You a Lovely, Perfect and Amazing Valentine's 游눗.
			</p>
            <button onclick="startEverything(true)">I press this button adhering to Google's wannabe love-destroying rules</button>
        </div>
    </div>

    <div class="container hidden">
        <div class="strawberry">
            <div class="glass">
                <div class="shine"></div>
            </div>
            <div class="thorns">
                <div></div>
            </div>
            <div class="leaves">
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
            </div>
            <div class="petals">
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
            </div>
        </div>
    </div>

    <script>
    function startEverything(withMusic) {
        // Hide popup
        document.getElementById('music-popup').style.display = 'none';
        
        // Show content
        document.querySelector('.container').classList.remove('hidden');
        
        // Start music if user chose yes
        if (withMusic) {
            const audio = document.getElementById('background-music');
            audio.volume = 0.5;
            audio.play().catch(error => {
                console.log("Playback failed:", error);
            });
        }
        
        // Start the emoji animation
        startFallingEmojis();
    }

    function createFallingEmoji(emoji) {
        const emojiElement = document.createElement("div");
        emojiElement.textContent = emoji;
        emojiElement.style.position = "fixed";
        emojiElement.style.top = "-50px"; 
        emojiElement.style.left = Math.random() * 100 + "vw"; 
        emojiElement.style.fontSize = Math.random() * 20 + 30 + "px"; 
        emojiElement.style.opacity = Math.random() * 0.7 + 0.3; 
        emojiElement.style.pointerEvents = "none";
        emojiElement.style.zIndex = "-1";
        emojiElement.style.animation = "fallingAnimation " + (Math.random() * 3 + 2) + "s linear infinite"; 
        document.body.appendChild(emojiElement);
        setTimeout(() => {
            emojiElement.remove();
        }, 5000);
    }

    function startFallingEmojis() {
        setInterval(() => {
            createFallingEmoji("游땢");
            createFallingEmoji("仇벒잺");
            createFallingEmoji("游봃");
			createFallingEmoji("游깺");
			createFallingEmoji("游깵");
			createFallingEmoji("游땢");
            createFallingEmoji("仇벒잺");
            createFallingEmoji("游봃");
        }, 300); 
    }
    </script>
  </body>
</html>
